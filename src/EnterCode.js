import React, { useState } from "react";
import "./EnterCode.css";
function EnterCode({ level, setVisible, backToMenu, maxlevel }) {
  const validCodeList = new Map([
    ["3559460615", 1],
    ["2405055571", 2],
    ["5122409336", 3],
    ["3375160057", 4],
    ["1408385243", 5],
    ["3395763221", 6],
    ["4203037795", 7],
    ["9944667210", 8],
    ["6468178850", 9],
    ["5395729531", 10],
    ["2514594733", 11],
    ["6364519349", 12],
    ["6809602542", 13],
    ["6456749686", 14],
    ["8108133667", 15],
    ["270418444", 16],
    ["6650333950", 17],
    ["4456254831", 18],
    ["7089527262", 19],
    ["1439810957", 20],
    ["7615371402", 21],
    ["3050311136", 22],
    ["2856030184", 23],
    ["1281915304", 24],
    ["5769087504", 25],
    ["376049242", 26],
    ["1679638806", 27],
    ["8884194780", 28],
    ["8084260372", 29],
    ["1319760167", 30],
    ["2890270014", 31],
    ["7409194706", 32],
    ["5615998967", 33],
    ["2192672930", 34],
    ["9768908457", 35],
    ["9885858377", 36],
    ["9219329419", 37],
    ["6237402369", 38],
    ["78496668", 39],
    ["8863289983", 40],
    ["2729190627", 41],
    ["9895462109", 42],
    ["1682607079", 43],
    ["3747194213", 44],
    ["2869025774", 45],
    ["2409308453", 46],
    ["8667095107", 47],
    ["8887268106", 48],
    ["6313252898", 49],
    ["4955459969", 50],
    ["9712127842", 51],
    ["968400753", 52],
    ["3798027372", 53],
    ["7915936648", 54],
    ["211637840", 55],
    ["1308027286", 56],
    ["4013848076", 57],
    ["8831236124", 58],
    ["2616719233", 59],
    ["5018248321", 60],
    ["4741102689", 61],
    ["499793987", 62],
    ["3869952738", 63],
    ["3122559674", 64],
    ["9019753180", 65],
    ["8925821213", 66],
    ["1952895880", 67],
    ["4258032295", 68],
    ["3991370034", 69],
    ["249554644", 70],
    ["8023216749", 71],
    ["4176343285", 72],
    ["3783903612", 73],
    ["28140798", 74],
    ["4204163667", 75],
    ["8256917959", 76],
    ["1029021976", 77],
    ["7108149139", 78],
    ["8133329372", 79],
    ["9592208286", 80],
  ]);

  const [code, setCode] = useState("");
  const [success, setSuccess] = useState(false);
  const [fail, setFail] = useState(false);

  const handleSubmit = (event) => {
    event.preventDefault();
    if (validCodeList.has(code)) {
      level.current = validCodeList.get(code);
      maxlevel.current = level.current;
      setSuccess(true);
      setFail(false);
    } else {
      setSuccess(false);
      setFail(true);
    }
  };

  return (
    <div>
      <form onSubmit={handleSubmit}>
        <label>
          Enter Code:
          <input
            type="text"
            value={code}
            onChange={(e) => setCode(e.target.value)}
          />
        </label>
        <input type="submit" />
      </form>
      {success ? <div className="success">Success!</div> : null}
      {fail ? <div className="fail">FAILURE</div> : null}
      <button
        className="goBack"
        onClick={(e) => {
          setVisible(false);
          backToMenu(true);
        }}
      >
        Back To Menu
      </button>
    </div>
  );
}

export default EnterCode;
